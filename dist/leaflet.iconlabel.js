!function(t,e,i){L.Icon.Label=L.Icon.extend({options:{labelClassName:"",closeButtonClassName:""},initialize:function(t){L.Util.setOptions(this,t),L.Icon.prototype.initialize.call(this,this.options)},createIcon:function(){return this._createLabel(L.Icon.prototype.createIcon.call(this))},createShadow:function(){if(!this.options.shadowUrl)return null;var t=L.Icon.prototype.createShadow.call(this);return t&&(t.style.marginLeft=-this.options.wrapperAnchor.x+"px",t.style.marginTop=-this.options.wrapperAnchor.y+"px"),t},updateLabel:function(t,e){return e=L.Util.trim((e||"")+"")||this.options.labelText,this.options.labelText=e,this._labelTextIsSet()?(this._labelIsVisible(t)&&(t.childNodes[1].childNodes[0].innerHTML=e),void 0):(this.hideLabel(t),void 0)},showLabel:function(t){this._labelTextIsSet()&&!this._labelIsVisible(t)&&(t.childNodes[1].childNodes[0].innerHTML=this.options.labelText,t.childNodes[1].style.display="block")},hideLabel:function(t){t.childNodes[1].style.display="none"},setIconText:function(t,e){this.options.iconText=L.Util.trim(e+""),t&&(t.childNodes[0].childNodes[0].innerHTML=this.options.iconText)},_createLabel:function(t){var i=L.DomUtil.create("div","leaflet-marker-icon-text",t);i.innerHTML=L.Util.trim((this.options.iconText||"")+"");var o=e.createElement("div");o.appendChild(t),o.className="leaflet-marker-icon-wrapper leaflet-zoom-animated";var n=L.DomUtil.create("div","",o),s=L.DomUtil.create("div","",n);if(n.className="leaflet-marker-iconlabel "+this.options.labelClassName,this._labelTextIsSet()?s.innerHTML=this.options.labelText:n.style.display="none",this.options.closeButton){var l=this.options.onCloseButtonClick,a=L.DomUtil.create("div","leaflet-marker-iconlabel-closebutton "+this.options.closeButtonClassName,n),c=this;L.DomEvent.addListener(a,"click",function(t){L.DomEvent.stop(t),l&&"function"==typeof l?l(c.marker):this.parentNode.style.display="none"})}return n.style.marginLeft=this.options.labelAnchor.x+"px",n.style.marginTop=this.options.labelAnchor.y+"px",o.style.marginLeft=-this.options.wrapperAnchor.x+"px",o.style.marginTop=-this.options.wrapperAnchor.y+"px",o.style.overflow="visible",o.style.height="0",t.style.marginLeft=this.options.iconAnchor.x+"px",t.style.marginTop=this.options.iconAnchor.y+"px",o},_labelTextIsSet:function(){return"undefined"!=typeof this.options.labelText&&null!==this.options.labelText},_labelIsVisible:function(t){return"none"!==t.childNodes[1].style.display}}),L.Icon.Label.Default=L.Icon.Label.extend({options:{labelAnchor:new L.Point(29,8),wrapperAnchor:new L.Point(13,41),iconAnchor:new L.Point(0,0),labelText:null,closeButton:!1,onCloseButtonClick:i,iconUrl:L.ROOT_URL+"images/marker.png",iconSize:new L.Point(25,41),popupAnchor:new L.Point(0,-33),shadowUrl:L.ROOT_URL+"images/marker-shadow.png",shadowSize:new L.Point(41,41)}}),L.Marker.Label=L.Marker.extend({updateLabel:function(t){this.options.icon.updateLabel(this._icon,t)},_initIcon:function(){if(!(this.options.icon instanceof L.Icon.Label))throw new Error("Icon must be an instance of L.Icon.Label.");L.Marker.prototype._initIcon.call(this),this.options.icon.marker=this},showLabel:function(){this.options.icon.showLabel(this._icon)},hideLabel:function(){this.options.icon.hideLabel(this._icon)},setIconText:function(t){this.options.icon.setIconText(this._icon,t)}})}(window,document);